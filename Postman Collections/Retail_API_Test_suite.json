{
  "variables": [],
  "info": {
    "name": "Retail API Test suite v2",
    "_postman_id": "1230022-e0f721f6-68d6-9779-8d80-1e20fab56d98",
    "description": "Common scenarios as Collect in store / Retail",
    "schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
  },
  "item": [
    {
      "_postman_id": "1230022-51e4f97e-9cb3-7fae-c10a-7f46d7a0df29",
      "name": "Basic flow",
      "description": "Basic flow Arrival->Delivery of mypack product 19,24\nIncluding both swe and dk ",
      "item": [
        {
          "_postman_id": "1230022-567a47a7-b69f-55a9-acc2-7c5b49f7efac",
          "name": "Health",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "console.log(\"Pabloversion:\"+postman.getResponseHeader(\"Pabloversion\"));",
                  "if(responseCode.code != 200){",
                  "    postman.setNextRequest(null);",
                  "}"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "console.log(\"Health check\");"
                ]
              }
            }
          ],
          "request": {
            "url": "{{server}}{{path}}/health?language={{language}}&apikey={{apikey}}",
            "method": "GET",
            "header": [],
            "body": {},
            "description": ""
          },
          "response": []
        },
        {
          "_postman_id": "1230022-b12912cd-6906-22b0-6149-a4ca7b2a9b2d",
          "name": "login-V2",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Check status code is 200\"] = responseCode.code === 200;",
                  "if(responseCode.code != 200){",
                  "    console.log(\"Login failed\");",
                  "    postman.setNextRequest(null);",
                  "} else {",
                  "    var responseObj = JSON.parse(responseBody);",
                  "    console.log(\"Login got authorization key \"+responseObj.response.jwttoken.token);",
                  "    postman.setEnvironmentVariable(\"authorization\", responseObj.response.jwttoken.token);",
                  "}"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "console.log(\"Login using ssid: \"+data.ssid);",
                  "console.log(\"            user: \"+data.user);"
                ]
              }
            }
          ],
          "request": {
            "url": {
              "raw": "{{server}}{{path}}/login/:ssid/:username?language={{language}}&apikey={{apikey}}",
              "auth": {},
              "host": [
                "{{server}}{{path}}"
              ],
              "path": [
                "login",
                ":ssid",
                ":username"
              ],
              "query": [
                {
                  "key": "language",
                  "value": "{{language}}"
                },
                {
                  "key": "apikey",
                  "value": "{{apikey}}"
                }
              ],
              "variable": [
                {
                  "value": "{{ssid}}",
                  "id": "ssid"
                },
                {
                  "value": "{{user}}",
                  "id": "username"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"credentialCapability\":{\r\n    \"credential\":{\r\n      \"password\":\"{{password}}\"\r\n    },\r\n    \"clientCapability\":{\r\n      \"clientAppVersion\":\"1.1.1\",\r\n      \"clientDeviceId\":\"234243234234324234\",\r\n      \"paymentSupport\":false,\r\n      \"printer\":true\r\n    }\r\n  }\r\n}"
            },
            "description": "Login an user\n\nParameters:\n\nssid: Service point id. Valid characters: 0-9 Length: 6 characters \n\nusername: The user name \n\n"
          },
          "response": []
        },
        {
          "_postman_id": "1230022-fd01ba79-2643-728d-de83-70e577b22c24",
          "name": "Delete testitem",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "if(responseCode.code != 200){",
                  "    console.log(\"failed\");",
                  "    postman.setNextRequest(null);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "url": {
              "raw": "{{testDataEndpoint}}/item/:itemid",
              "auth": {},
              "host": [
                "{{testDataEndpoint}}"
              ],
              "path": [
                "item",
                ":itemid"
              ],
              "query": [],
              "variable": [
                {
                  "value": "{{itemId}}",
                  "id": "itemid"
                }
              ]
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {},
            "description": ""
          },
          "response": []
        },
        {
          "_postman_id": "1230022-f687ceba-d102-25c1-d8be-83e28ecead16",
          "name": "Add testitem",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "if(responseCode.code != 200){",
                  "    console.log(\"failed\");",
                  "    postman.setNextRequest(null);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "url": {
              "raw": "{{testDataEndpoint}}/item/:itemid",
              "auth": {},
              "host": [
                "{{testDataEndpoint}}"
              ],
              "path": [
                "item",
                ":itemid"
              ],
              "query": [],
              "variable": [
                {
                  "value": "{{itemId}}",
                  "id": "itemid"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              },
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"testitem\":\n{\"attributes\":[ \n  {\"key\":\"produktkod\",\"value\":\"{{productCode}}\"},\n  {\"key\":\"mottagaradress.namn\",\"value\":\"Test Testsson\"},\n  {\"key\":\"mottagaradress.utdelningsadressrad1\",\"value\":\"Storgatan 1\"},\n  {\"key\":\"mottagaradress.postnr\",\"value\":\"10500\"},\n  {\"key\":\"mottagaradress.postort\",\"value\":\"Stockholm\"}\n  ]}\n}"
            },
            "description": ""
          },
          "response": []
        },
        {
          "_postman_id": "1230022-64163483-23aa-8b43-7499-bf722cd2696b",
          "name": "items arrival",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Check status code is 200\"] = responseCode.code === 200;",
                  "",
                  "",
                  "if(responseCode.code==200){",
                  "    console.log(\"Arrival approved\");",
                  "}else if(responseCode.code==400){",
                  "    var jsonData = JSON.parse(responseBody);",
                  "    console.log(\"Got response \"+responseBody);",
                  "    tests[\"Check errror \"] = jsonData.Fault.faultCode >=0;",
                  "}",
                  "",
                  "//postman.setEnvironmentVariable(\"authorization\", response.jwttoken.token);",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//console.log(\"Server: \"+postman.getEnvironmentVariable(\"server\"));",
                  "console.log(\"ItemId: \"+data.itemId);",
                  "console.log(\"Product: \"+data.productCode);",
                  "console.log(\"Context: \"+data.context);"
                ]
              }
            }
          ],
          "request": {
            "url": {
              "raw": "{{server}}{{path}}/items/:itemid?context=arrival&language={{language}}&apikey={{apikey}}",
              "auth": {},
              "host": [
                "{{server}}{{path}}"
              ],
              "path": [
                "items",
                ":itemid"
              ],
              "query": [
                {
                  "key": "context",
                  "value": "arrival"
                },
                {
                  "key": "language",
                  "value": "{{language}}"
                },
                {
                  "key": "apikey",
                  "value": "{{apikey}}"
                }
              ],
              "variable": [
                {
                  "value": "{{itemId}}",
                  "id": "itemid"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {},
            "description": "Get information about items\n\nParameters:\n\nitemid: itemId \n\n"
          },
          "response": []
        },
        {
          "_postman_id": "1230022-415f92fe-71ce-9231-b240-0fc7fe9654c8",
          "name": "events arrival",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//2016-12-13T16:25:39.611+02:00",
                  "postman.setEnvironmentVariable(\"currentTimeStmp\", new Date());"
                ]
              }
            }
          ],
          "request": {
            "url": "{{server}}{{path}}/events?language={{language}}&apikey={{apikey}}",
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"eventList\": {\r\n\"customersessions\":[\r\n\t{\r\n\t\t\"id\":\"1\",\t\r\n\t\t\"arrivals\":    [\r\n\t\t      {\r\n\t\t         \"itemId\": \"{{itemId}}\",\r\n\t\t         \"shelfNo\": \"A12\",\r\n\t\t         \"timeStamp\": \"{{currentTimeStmp}}\"\r\n\t\t      }\r\n\t\t\t\r\n\t\t\t]\r\n\t}]\r\n}\r\n}"
            },
            "description": "Events on items"
          },
          "response": []
        },
        {
          "_postman_id": "1230022-df5c8a2b-9d8f-40ec-8a3c-5917d8e0128e",
          "name": "items delievry",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Check status code is 200\"] = responseCode.code === 200;",
                  "",
                  "if(responseCode.code==200){",
                  "    var jsonData = JSON.parse(responseBody);",
                  "    console.log(\"Delivery approved\");",
                  "    if(jsonData.itemList.items.delivery.signonglass){",
                  "        console.log(\"signonglass true\");",
                  "        postman.setNextRequest(\"events delivery Sign On Glass\");",
                  "    }",
                  "}else if(responseCode.code==400){",
                  "    var jsonData = JSON.parse(responseBody);",
                  "    console.log(\"Got response \"+responseBody);",
                  "    tests[\"Check errror \"] = jsonData.Fault.faultCode >=0;",
                  "}",
                  "",
                  "//postman.setEnvironmentVariable(\"authorization\", response.jwttoken.token);",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//console.log(\"Server: \"+postman.getEnvironmentVariable(\"server\"));",
                  "console.log(\"ItemId: \"+data.itemId);",
                  "console.log(\"Product: \"+data.productCode);",
                  "console.log(\"Context: \"+data.context);"
                ]
              }
            }
          ],
          "request": {
            "url": {
              "raw": "{{server}}{{path}}/items/:itemid?context=delivery&language={{language}}&apikey={{apikey}}",
              "auth": {},
              "host": [
                "{{server}}{{path}}"
              ],
              "path": [
                "items",
                ":itemid"
              ],
              "query": [
                {
                  "key": "context",
                  "value": "delivery"
                },
                {
                  "key": "language",
                  "value": "{{language}}"
                },
                {
                  "key": "apikey",
                  "value": "{{apikey}}"
                }
              ],
              "variable": [
                {
                  "value": "{{itemId}}",
                  "id": "itemid"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {},
            "description": "Get information about items\n\nParameters:\n\nitemid: itemId \n\n"
          },
          "response": []
        },
        {
          "_postman_id": "1230022-99cb0795-73f7-6aed-b5f7-58a69e32d44d",
          "name": "events delivery",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "postman.setNextRequest(\"Health end\");",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//2016-12-13T16:25:39.611+02:00",
                  "postman.setEnvironmentVariable(\"currentTimeStmp\", new Date());"
                ]
              }
            }
          ],
          "request": {
            "url": "{{server}}{{path}}/events?language={{language}}&apikey={{apikey}}",
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"eventList\": {\r\n\t\"customersessions\":[\r\n\t{\r\n\t\t\"id\":\"1\",\r\n\t\t\"deliveries\":    {\r\n\t\t      \"deliveries\": [\r\n\t\t                  {\r\n\t\t            \"itemId\": \"{{itemId}}\",\r\n\t\t            \"timeStamp\": \"{{currentTimeStmp}}\",\r\n\t\t            \"additionalRequestResponse\":             {\r\n\t\t               \"id\": 1,\r\n\t\t               \"response\": \"true\"\r\n\t\t            }\r\n\t\t         }\r\n\t\t      ],\r\n\t\t      \"identifications\":       [\r\n\t\t            {\r\n\t\t            \"idNumber\": \"1212121212\",\r\n\t\t            \"identificationTypeId\": 1,\r\n\t\t            \"courier\": false\r\n\t\t         }\r\n\t\t      ]\r\n\t\t   }\r\n\t}\r\n\t]\r\n}\r\n}\r\n"
            },
            "description": "Events on items"
          },
          "response": []
        },
        {
          "_postman_id": "1230022-41862b2c-88aa-575c-3965-f0a87b49792b",
          "name": "events delivery Sign On Glass",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//2016-12-13T16:25:39.611+02:00",
                  "postman.setEnvironmentVariable(\"currentTimeStmp\", new Date());"
                ]
              }
            }
          ],
          "request": {
            "url": "{{server}}{{path}}/events?language={{language}}&apikey={{apikey}}",
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"eventList\": {\r\n\t\"customersessions\":[\r\n\t{\r\n\t\t\"id\":\"1\",\r\n\t\t\"deliveries\":    {\r\n    \t \"deliveries\": [\r\n        \t{\r\n\t            \"itemId\": \"{{itemId}}\",\r\n\t            \"timeStamp\": \"{{currentTimeStmp}}\",\r\n\t            \"additionalRequestResponse\": {\r\n\t               \"id\": 1,\r\n\t               \"response\": \"true\"\r\n\t            }\r\n        \t}\r\n    \t],\r\n      \"identifications\": [\r\n      ],\r\n      \"signonglass\":{\r\n          \"signature\":\"iVBORw0KGgoAAAANSUhEUgAAAhIAAAD1CAYAAAAF4xysAAAABHNCSVQICAgIfAhkiAAACUhJREFUeJzt3WuM5Xddx/H3dnfbQpdLK1qM3LQqWmwEq8agNd6Corbi7UFJqmLihVDxAWpiDAoxogneMKYgkvCgAe0TjE2qIJqKIKmIaU2QEiottNK0eGGVS+9bH/x36HbmnLMzO5ffOTOvV/LPbGbO+Z/P/Gd2ft/z+/8uBQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAh0YHAHbchdU5Tf+//6v63Ng4B9a5pxwXVN9V/Up1b/W+Oc+5acbn7jj5nAeq+6vPVg/vdFg4UwoJ2B+eUb2uumrG195XXba3cfatI9Wzqq+qvvLkx+dWX119xaBM91U3V7dUH61ur247eTwyKBMAK+Dc6rrqRPXoguO+UQFXzKXVtdVfNBVfn6gebPG1XaXjweo91ct26oIBsJr+uqlrezONxy8MyrjMnlb9cXW86XbBTjbW76peUX1Ndayp2DuyQ7mPnDzfU6ofqH67eu82836++mD1zB3KCMASuqD6g+Y3BndUb1/3uduGJF0e5zc15r9RfaatN7D/V91Vfaipl+Lnq2/c0+9gZ3xH0y2vd1Z3tvkC9LVNt27O2vPEAOyIJzQ1APP+0P9r9eKmd7/rv/aTA/KOcmF1efX71f+2tWLhgervmxrNH9zj3KM9r3p99ZE2d61uqX6xumhEWAA256zqmubfl7+j+taTj728je8u723qvdiPnl69sumd9X+09R6GG5vGBlzSzt1q2E/Orl5YvbHNXc8Hmz3DBIAB3t/iP9rPPuWxXz/nMfvRx9t6wfDp6kcGZN2vntPmei2ODcoHcCB9efXnzf+jfFv1Peuec/GMxx1v6qLeLy5tuo+/qMF6uGmK4w3VD4+JeeBdXX242T+f7xuYC2Bfu6ype31eA3m8umLG857btADR+sfvl3fdV1WfbPEtiSsz6G9ZvbbZP7drRoYC2C9+qOnd87xG8iPVt8x57vnVPTOe8/27G3nXHWoaGPnp5l+X6xq3uBNn5pub/bP8x5GhAFbRj7W4a/7fq6OnOcestQ1eukt598rftfi6/N64aOygs5s93fa9I0MBLLPzq19t8ej26zp91/zTqv9e99xHmqaArqLnNa0OOe+63F29alg69sI/t/Hn/rZOX0gD7HuXVdc3v5H8TNOc+7M3ca4Lqn+bcY5VXJHy6upTzb8uN2cw3kFztHpHG38X3jEyFMAIb2pjj8H644XV4S2c850zzvHqVmczvSdUf9W0zPK8a/I3TbNUONiONi3+tf7344MDMwHsmiNNgyAXFQ0nmmZaPOsMzn+4jYtJrcIo98NNtywWXZcHq38ZFZCVMGsA8r1trQgHWDrnN23ktKiRvLtpWeHtrIz4devOefs2zrUXvqzFS3U/Wt3a7O3LYZFZa1H8Wab6Aivmd6uHmt9IXtvObdb01HXn/qUdOu9Ou7rTr7b55qZFsmA7nlx9rI2/X38yMhTA6by6+TtCPtS0n8VmBkpu1amvs0yN8MXVPzV/j4+1AaSXN42LgJ12rNlLcf/syFAAa45WP978RvI/qxfs4uuft+71nr+Lr3U6h5puV5xuXYeHmxYTMlWPvXZrj/0e3j84C3DALVoc6u7qp/Yox4lTXvcle/SaNfU0XNk0d/94iwuHR6t/aCq4YLSzmsZLPGl0EODgeWmLd40c0VCuvfa7d+n8VzRNT72p2atizjs+1FRo6HUA4EC7pNn7UqwdP9fujHnYrLUcf7qNcxyqfrmp8f+fNl8snHpc37Rj5pO3kQMA9oXnNH+BqPuqtwxLttG8QuJQU9fthdWzq5+p3tWZFQlrAyLvatq34pLd/IYAYBV9Q7NXx1sbHPjWYckWO9PCYN5xa9P+HT9dffEefh8AsHKe0bRz4LxG9Q3VlwxLtzmnDrbc7PHh6oamMQwvyLRLANi0w01jAR5pdiP7nuqJw9Jt3ZHqKeuOl538+MS2t1ImAFB9UfX2ZhcOjzTNSDg2LB0AsHTOq/6o+d37NzaNiwAA+II3NK1YN6t4uLm6dFw0AGAZvab5m2M9XF00LBkAsHTOa1pAad5tizuq7x6WDgBYOudUv9n82Rb3Vi8flg4AWEpvrD7X7OLh89W3j4sGACyjN7V4QaXvHBcNAFg2T6p+vfmFw13VVcPSAQBL55zqdU2zKmYVD/dUPzEsHQCwlK6rHmj+mIdvGhcNAFg251TXtHh76ouHpQMAltIrml88fLS6Ylw0AGAZvbj6WLOLh09ULxkXDQBYVrc0u3i4v/q2gbkAgCV0uPlLVD/UNCYCAOBxLq+ON7uAuKF66rhoAMAyuqi6sfn7W1hlEgDY4A+bv97DK5tubwAAfMEzm9Z1mFU8fGBgLgBgSZ1dvb7ZxcMnq+8dFw0AWFYvqu5sdgHxO9XRcdEAgGX1/upEswuIYwNzAQBL6FDT7YlZxcP91a+NiwYALLOPN7vn4W+rC8bFAgCW2bXNLiB+dGQoAGC5vbyNtzDuqc4dGQoAWG6XtrH34fahiQCAlfBbPb6AuLN6+tBEAMBKeFuPLyIuGRsHAHbOodEBDoBHT/m36w3AvnLW6AAHyGtGBwAAVs/aLY2vHR0EAFgt1/RYIQEAsCWfaioiTowOAgC7wRiJ3fWBkx8NsgQAtuzK3NoAAM7QkRQSAMA2rBUSXzo6CACwetYKiZtGBwEAVs9f9lgx8fzBWQBgR5lNsDcskw3AvmT659540egAALAbjowOcEC8u7o+szcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIDt+H/OpfvMUlrOsgAAAABJRU5ErkJg\",\r\n          \"recipientFirstName\":\"Jörgen\",\r\n          \"recipientSurName\":\"Testsson\",\r\n          \"visible\":true\r\n        }\r\n   }\r\n}]\r\n}\r\n}\r\n"
            },
            "description": "Events on items"
          },
          "response": []
        },
        {
          "_postman_id": "1230022-65b826b2-8a89-7054-0f31-208e6cd80afa",
          "name": "Health end",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "console.log(\"Pabloversion:\"+postman.getResponseHeader(\"Pabloversion\"));"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "console.log(\"Health check\");",
                  ""
                ]
              }
            }
          ],
          "request": {
            "url": "{{server}}{{path}}/health?language=sv&apikey={{apikey}}",
            "method": "GET",
            "header": [],
            "body": {},
            "description": ""
          },
          "response": []
        }
      ]
    },
    {
      "_postman_id": "1230022-0c8905e9-9987-538d-d3f2-b85e1d2eb730",
      "name": "Delivery exception",
      "description": "Testsuite to check common delivery exceptions.\n- Incorrect status\n- Printing required\n- Payment not allowed\n- etc..",
      "item": [
        {
          "_postman_id": "1230022-92478744-9990-b9fa-b3bb-3b0ae26e57d1",
          "name": "Health",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "console.log(\"Pabloversion:\"+postman.getResponseHeader(\"Pabloversion\"));",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "console.log(\"Health check\");",
                  ""
                ]
              }
            }
          ],
          "request": {
            "url": "{{server}}{{path}}/health?language=sv&apikey={{apikey}}",
            "method": "GET",
            "header": [
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {},
            "description": ""
          },
          "response": []
        },
        {
          "_postman_id": "1230022-9bbc61d9-082f-1a1a-b921-ca696d1b6b5c",
          "name": "login",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Check status code is 200\"] = responseCode.code === 200;",
                  "if(responseCode.code != 200){",
                  "    console.log(\"Login failed\");",
                  "    postman.setNextRequest(null);",
                  "}else{",
                  "    var responseObj = JSON.parse(responseBody);",
                  "    console.log(\"Login got authorization key \"+responseObj.response.jwttoken.token);",
                  "    postman.setEnvironmentVariable(\"authorization\", responseObj.response.jwttoken.token);",
                  "}"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "console.log(\"Login using ssid: \"+data.ssid);",
                  "console.log(\"            user: \"+data.user);"
                ]
              }
            }
          ],
          "request": {
            "url": {
              "raw": "{{server}}{{path}}/login/:ssid/:username?language={{language}}&apikey={{apikey}}",
              "auth": {},
              "host": [
                "{{server}}{{path}}"
              ],
              "path": [
                "login",
                ":ssid",
                ":username"
              ],
              "query": [
                {
                  "key": "language",
                  "value": "{{language}}"
                },
                {
                  "key": "apikey",
                  "value": "{{apikey}}"
                }
              ],
              "variable": [
                {
                  "value": "{{ssid}}",
                  "id": "ssid"
                },
                {
                  "value": "{{user}}",
                  "id": "username"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"credentialCapability\":{\r\n\t\t\"credential\":{\r\n\t\t\t\"password\":\"{{password}}\"\r\n\t\t},\r\n\t\t\"clientCapability\":{\r\n\t\t\t\"clientAppVersion\":\"1.1.1.1\",\r\n\t\t\t\"clientDeviceId\":\"234243234234324234\",\r\n\t\t\t\"paymentSupport\":false,\r\n\t\t\t\"printer\":true\r\n\t\t}\r\n\t}\r\n}"
            },
            "description": "Login an user\n\nParameters:\n\nssid: Service point id. Valid characters: 0-9 Length: 6 characters \n\nusername: The user name \n\n"
          },
          "response": []
        },
        {
          "_postman_id": "1230022-578df4b2-4598-71f5-394e-f52fa4b029ce",
          "name": "Add testitem",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Check status code is 200\"] = responseCode.code === 200;",
                  "",
                  "",
                  "if(responseCode.code != 200){",
                  "    console.log(\"failed\");",
                  "    postman.setNextRequest(null);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "url": {
              "raw": "{{testDataEndpoint}}/item/:itemid",
              "auth": {},
              "host": [
                "{{testDataEndpoint}}"
              ],
              "path": [
                "item",
                ":itemid"
              ],
              "query": [],
              "variable": [
                {
                  "value": "{{itemId}}",
                  "id": "itemid"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              },
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"testitem\":\n{\"attributes\":[ \n\t{\"key\":\"produktkod\",\"value\":\"{{productCode}}\"} \n\t]}\n}"
            },
            "description": ""
          },
          "response": []
        },
        {
          "_postman_id": "1230022-50d4c30a-9f19-55c5-e0a8-92e0a0c729f7",
          "name": "items delivery reject",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Check status code\"] = responseCode.code === 400;",
                  "",
                  "var jsonData = JSON.parse(responseBody);",
                  "if(responseCode.code==200){",
                  "    console.log(\"Delivery approved\");",
                  "}else if(responseCode.code==400){",
                  "    console.log(\"Got response \"+responseBody);",
                  "    tests[\"Check errror \"] = jsonData.Fault.faultCode >=0;",
                  "}",
                  "",
                  "//postman.setEnvironmentVariable(\"authorization\", response.jwttoken.token);",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//console.log(\"Server: \"+postman.getEnvironmentVariable(\"server\"));",
                  "console.log(\"ItemId: \"+data.itemId);",
                  "console.log(\"Product: \"+data.productCode);",
                  "console.log(\"Context: \"+data.context);"
                ]
              }
            }
          ],
          "request": {
            "url": {
              "raw": "{{server}}{{path}}/items/:itemid?context=delivery&language={{language}}&apikey={{apikey}}",
              "auth": {},
              "host": [
                "{{server}}{{path}}"
              ],
              "path": [
                "items",
                ":itemid"
              ],
              "query": [
                {
                  "key": "context",
                  "value": "delivery"
                },
                {
                  "key": "language",
                  "value": "{{language}}"
                },
                {
                  "key": "apikey",
                  "value": "{{apikey}}"
                }
              ],
              "variable": [
                {
                  "value": "{{itemId}}",
                  "id": "itemid"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {},
            "description": "Get information about items\n\nParameters:\n\nitemid: itemId \n\n"
          },
          "response": []
        },
        {
          "_postman_id": "1230022-a602dd66-506f-7073-7389-02a713dd0738",
          "name": "items arrival",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Check status code\"] = responseCode.code === 200;",
                  "",
                  "var jsonData = JSON.parse(responseBody);",
                  "if(responseCode.code==200){",
                  "    console.log(\"Arrival approved\");",
                  "}else if(responseCode.code==400){",
                  "    console.log(\"Got response \"+responseBody);",
                  "    tests[\"Check errror \"] = jsonData.Fault.faultCode >=0;",
                  "}",
                  "",
                  "//postman.setEnvironmentVariable(\"authorization\", response.jwttoken.token);",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//console.log(\"Server: \"+postman.getEnvironmentVariable(\"server\"));",
                  "console.log(\"ItemId: \"+data.itemId);",
                  "console.log(\"Product: \"+data.productCode);",
                  "console.log(\"Context: \"+data.context);"
                ]
              }
            }
          ],
          "request": {
            "url": {
              "raw": "{{server}}{{path}}/items/:itemid?context=arrival&language={{language}}&apikey={{apikey}}",
              "auth": {},
              "host": [
                "{{server}}{{path}}"
              ],
              "path": [
                "items",
                ":itemid"
              ],
              "query": [
                {
                  "key": "context",
                  "value": "arrival"
                },
                {
                  "key": "language",
                  "value": "{{language}}"
                },
                {
                  "key": "apikey",
                  "value": "{{apikey}}"
                }
              ],
              "variable": [
                {
                  "value": "{{itemId}}",
                  "id": "itemid"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {},
            "description": "Get information about items\n\nParameters:\n\nitemid: itemId \n\n"
          },
          "response": []
        }
      ]
    },
    {
      "_postman_id": "1230022-bd9faaf8-2a12-434a-41c3-de3b92e027fa",
      "name": "Error codes",
      "description": "",
      "item": []
    },
    {
      "_postman_id": "1230022-3f769f36-477c-380f-755f-a6212597463f",
      "name": "Return flow",
      "description": "Test suite to verifiery return flow.\n",
      "item": [
        {
          "_postman_id": "1230022-1120659d-15cf-cf80-1997-12ca4c764794",
          "name": "Health",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "console.log(\"Pabloversion:\"+postman.getResponseHeader(\"Pabloversion\"));"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "console.log(\"Health check\");",
                  ""
                ]
              }
            }
          ],
          "request": {
            "url": "{{server}}{{path}}/health?language=sv&apikey={{apikey}}",
            "method": "GET",
            "header": [
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {},
            "description": ""
          },
          "response": []
        },
        {
          "_postman_id": "1230022-bf3b71fe-461b-b025-541a-8c685bcb30d3",
          "name": "login",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Check status code is 200\"] = responseCode.code === 200;",
                  "if(responseCode.code != 200){",
                  "    console.log(\"Login failed\");",
                  "    postman.setNextRequest(null);",
                  "}else{",
                  "    var responseObj = JSON.parse(responseBody);",
                  "    console.log(\"Login got authorization key \"+responseObj.response.jwttoken.token);",
                  "    postman.setEnvironmentVariable(\"authorization\", responseObj.response.jwttoken.token);",
                  "}"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "console.log(\"Login using ssid: \"+data.ssid);",
                  "console.log(\"            user: \"+data.user);"
                ]
              }
            }
          ],
          "request": {
            "url": {
              "raw": "{{server}}{{path}}/login/:ssid/:username?language={{language}}&apikey={{apikey}}",
              "auth": {},
              "host": [
                "{{server}}{{path}}"
              ],
              "path": [
                "login",
                ":ssid",
                ":username"
              ],
              "query": [
                {
                  "key": "language",
                  "value": "{{language}}"
                },
                {
                  "key": "apikey",
                  "value": "{{apikey}}"
                }
              ],
              "variable": [
                {
                  "value": "{{ssid}}",
                  "id": "ssid"
                },
                {
                  "value": "{{user}}",
                  "id": "username"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"credentialCapability\":{\r\n\t\t\"credential\":{\r\n\t\t\t\"password\":\"{{password}}\"\r\n\t\t},\r\n\t\t\"clientCapability\":{\r\n\t\t\t\"clientAppVersion\":\"1.1.1.1\",\r\n\t\t\t\"clientDeviceId\":\"234243234234324234\",\r\n\t\t\t\"paymentSupport\":false,\r\n\t\t\t\"printer\":true\r\n\t\t}\r\n\t}\r\n}"
            },
            "description": "Login an user\n\nParameters:\n\nssid: Service point id. Valid characters: 0-9 Length: 6 characters \n\nusername: The user name \n\n"
          },
          "response": []
        },
        {
          "_postman_id": "1230022-3aee1b8c-e33f-383b-761c-02b48d752109",
          "name": "Delete testitem",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;"
                ]
              }
            }
          ],
          "request": {
            "url": {
              "raw": "{{testDataEndpoint}}/item/:itemid",
              "auth": {},
              "host": [
                "{{testDataEndpoint}}"
              ],
              "path": [
                "item",
                ":itemid"
              ],
              "query": [],
              "variable": [
                {
                  "value": "{{itemId}}",
                  "id": "itemid"
                }
              ]
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {},
            "description": ""
          },
          "response": []
        },
        {
          "_postman_id": "1230022-af50e076-3f97-555f-c3cb-15b5cff8efd7",
          "name": "Add testitem",
          "request": {
            "url": {
              "raw": "{{testDataEndpoint}}/item/:itemid",
              "auth": {},
              "host": [
                "{{testDataEndpoint}}"
              ],
              "path": [
                "item",
                ":itemid"
              ],
              "query": [],
              "variable": [
                {
                  "value": "{{itemId}}",
                  "id": "itemid"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              },
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"testitem\":\n{\"attributes\":[ \n  {\"key\":\"produktkod\",\"value\":\"\"}\n  ]}\n}"
            },
            "description": ""
          },
          "response": []
        },
        {
          "_postman_id": "1230022-e84b6a86-e501-df3a-ab3e-2e84c6bc42c6",
          "name": "items return",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Check status code is 400\"] = responseCode.code === 400;",
                  "",
                  "var jsonData = JSON.parse(responseBody);",
                  "if(responseCode.code==200){",
                  "    console.log(\"Return approved\");",
                  "}else if(responseCode.code==400){",
                  "    console.log(\"Got response \"+responseBody);",
                  "    tests[\"Check errror \"] = jsonData.Fault.faultCode >=0;",
                  "}",
                  "",
                  "//postman.setEnvironmentVariable(\"authorization\", response.jwttoken.token);",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//console.log(\"Server: \"+postman.getEnvironmentVariable(\"server\"));",
                  "console.log(\"ItemId: \"+data.itemId);",
                  "console.log(\"Product: \"+data.productCode);",
                  "console.log(\"Context: \"+data.context);"
                ]
              }
            }
          ],
          "request": {
            "url": {
              "raw": "{{server}}{{path}}/items/:itemid?context=returnitem&language={{language}}&apikey={{apikey}}",
              "auth": {},
              "host": [
                "{{server}}{{path}}"
              ],
              "path": [
                "items",
                ":itemid"
              ],
              "query": [
                {
                  "key": "context",
                  "value": "returnitem"
                },
                {
                  "key": "language",
                  "value": "{{language}}"
                },
                {
                  "key": "apikey",
                  "value": "{{apikey}}"
                }
              ],
              "variable": [
                {
                  "value": "{{itemId}}",
                  "id": "itemid"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {},
            "description": "Get information about items\n\nParameters:\n\nitemid: itemId \n\n"
          },
          "response": []
        },
        {
          "_postman_id": "1230022-fdde6578-88f2-74e7-f327-d92f848acc19",
          "name": "items return pastlastduedate",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Check status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonData = JSON.parse(responseBody);",
                  "if(responseCode.code==200){",
                  "    console.log(\"Return approved\");",
                  "}else if(responseCode.code==400){",
                  "    console.log(\"Got response \"+responseBody);",
                  "    tests[\"Check errror \"] = jsonData.Fault.faultCode >=0;",
                  "}",
                  "",
                  "//postman.setEnvironmentVariable(\"authorization\", response.jwttoken.token);",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//console.log(\"Server: \"+postman.getEnvironmentVariable(\"server\"));",
                  "console.log(\"ItemId: \"+data.itemId);",
                  "console.log(\"Product: \"+data.productCode);",
                  "console.log(\"Context: \"+data.context);"
                ]
              }
            }
          ],
          "request": {
            "url": "{{server}}{{path}}/items?filter=pastlastduedate&language={{language}}&apikey={{apikey}}",
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {},
            "description": "Get information about items\n\nParameters:\n\nitemid: itemId \n\n"
          },
          "response": []
        },
        {
          "_postman_id": "1230022-5ab0fd57-d8f9-385e-0305-e811032d6d75",
          "name": "items arrival",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Check status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonData = JSON.parse(responseBody);",
                  "if(responseCode.code==200){",
                  "    console.log(\"Arrival approved\");",
                  "}else if(responseCode.code==400){",
                  "    console.log(\"Got response \"+responseBody);",
                  "    tests[\"Check errror \"] = jsonData.Fault.faultCode >=0;",
                  "}",
                  "",
                  "//postman.setEnvironmentVariable(\"authorization\", response.jwttoken.token);",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//console.log(\"Server: \"+postman.getEnvironmentVariable(\"server\"));",
                  "console.log(\"ItemId: \"+data.itemId);",
                  "console.log(\"Product: \"+data.productCode);",
                  "console.log(\"Context: \"+data.context);"
                ]
              }
            }
          ],
          "request": {
            "url": {
              "raw": "{{server}}{{path}}/items/:itemid?context=arrival&language={{language}}&apikey={{apikey}}",
              "auth": {},
              "host": [
                "{{server}}{{path}}"
              ],
              "path": [
                "items",
                ":itemid"
              ],
              "query": [
                {
                  "key": "context",
                  "value": "arrival"
                },
                {
                  "key": "language",
                  "value": "{{language}}"
                },
                {
                  "key": "apikey",
                  "value": "{{apikey}}"
                }
              ],
              "variable": [
                {
                  "value": "{{itemId}}",
                  "id": "itemid"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}s",
                "description": ""
              }
            ],
            "body": {},
            "description": "Get information about items\n\nParameters:\n\nitemid: itemId \n\n"
          },
          "response": []
        },
        {
          "_postman_id": "1230022-d121f26c-fa0c-5363-09c8-44fedd147746",
          "name": "events arrival",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//2016-12-13T16:25:39.611+02:00",
                  "postman.setEnvironmentVariable(\"currentTimeStmp\", new Date());"
                ]
              }
            }
          ],
          "request": {
            "url": "{{server}}{{path}}/events?language={{language}}&apikey={{apikey}}",
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"eventList\": {\r\n\t\"customersessions\":[\r\n\t{\r\n\t\t\"id\":\"1\",\r\n\t\t\"arrivals\":    [\r\n    \t{\r\n        \t\"itemId\": \"{{itemId}}\",\r\n        \t\"shelfNo\": \"A12\",\r\n        \t\"timeStamp\": \"{{currentTimeStmp}}\"\r\n    \t}\r\n\t\t]\r\n\t}]\r\n}}"
            },
            "description": "Events on items"
          },
          "response": []
        },
        {
          "_postman_id": "1230022-fc02ff48-abe3-5797-846e-da802868e0ff",
          "name": "items return",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Check status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonData = JSON.parse(responseBody);",
                  "if(responseCode.code==200){",
                  "    console.log(\"Arrival approved\");",
                  "}else if(responseCode.code==400){",
                  "    console.log(\"Got response \"+responseBody);",
                  "    tests[\"Check errror \"] = jsonData.Fault.faultCode >=0;",
                  "}",
                  "",
                  "//postman.setEnvironmentVariable(\"authorization\", response.jwttoken.token);",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//console.log(\"Server: \"+postman.getEnvironmentVariable(\"server\"));",
                  "console.log(\"ItemId: \"+data.itemId);",
                  "console.log(\"Product: \"+data.productCode);",
                  "console.log(\"Context: \"+data.context);"
                ]
              }
            }
          ],
          "request": {
            "url": {
              "raw": "{{server}}{{path}}/items/:itemid?context=returnitem&language={{language}}&apikey={{apikey}}",
              "auth": {},
              "host": [
                "{{server}}{{path}}"
              ],
              "path": [
                "items",
                ":itemid"
              ],
              "query": [
                {
                  "key": "context",
                  "value": "returnitem"
                },
                {
                  "key": "language",
                  "value": "{{language}}"
                },
                {
                  "key": "apikey",
                  "value": "{{apikey}}"
                }
              ],
              "variable": [
                {
                  "value": "{{itemId}}",
                  "id": "itemid"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {},
            "description": "Get information about items\n\nParameters:\n\nitemid: itemId \n\n"
          },
          "response": []
        },
        {
          "_postman_id": "1230022-856ee87c-5a22-f528-7685-5192683c45e1",
          "name": "events return NO product",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Status code is 400\"] = responseCode.code === 400;",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//2016-12-13T16:25:39.611+02:00",
                  "postman.setEnvironmentVariable(\"currentTimeStmp\", new Date());"
                ]
              }
            }
          ],
          "request": {
            "url": "{{server}}{{path}}/events?language={{language}}&apikey={{apikey}}",
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"eventList\": {\r\n\t\"customersessions\":[\r\n\t{\r\n\t\t\"id\":\"1\",\r\n\t\t\"returns\":    [\r\n        {\r\n        \t\"itemId\": \"{{itemId}}\",\r\n        \t\"returnReason\": \"damaged\",\r\n        \t\"missing\": false,\r\n        \t\"productCode\":\"\",\r\n        \t\"timeStamp\": \"{{currentTimeStmp}}\"\r\n    \t}\r\n\t\t]  \r\n\t}]\r\n  }\r\n}"
            },
            "description": "Events on items"
          },
          "response": []
        },
        {
          "_postman_id": "1230022-d29be740-d36e-a0d5-fe57-d544d89d5044",
          "name": "events return",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//2016-12-13T16:25:39.611+02:00",
                  "postman.setEnvironmentVariable(\"currentTimeStmp\", new Date());"
                ]
              }
            }
          ],
          "request": {
            "url": "{{server}}{{path}}/events?language={{language}}&apikey={{apikey}}",
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"eventList\": {\r\n\t\"customersessions\":[\r\n\t{\r\n\t\t\"id\":\"1\",\r\n\t\t\"returns\":    [\r\n        {\r\n        \t\"itemId\": \"{{itemId}}\",\r\n        \t\"returnReason\": \"damaged\",\r\n        \t\"missing\": false,\r\n        \t\"productCode\":\"19\",\r\n        \t\"timeStamp\": \"{{currentTimeStmp}}\"\r\n    \t}\r\n\t\t]\r\n\t}]\r\n  }\r\n}"
            },
            "description": "Events on items"
          },
          "response": []
        }
      ]
    },
    {
      "_postman_id": "1230022-83fae0bb-e3bf-5061-fd00-64386b4b107c",
      "name": "Search",
      "description": "",
      "item": [
        {
          "_postman_id": "1230022-c54b6444-c149-c571-1e0c-e85cb87f65ca",
          "name": "Health",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "console.log(\"Pabloversion:\"+postman.getResponseHeader(\"Pabloversion\"));",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "console.log(\"Health check\");",
                  ""
                ]
              }
            }
          ],
          "request": {
            "url": "{{server}}{{path}}/health?language=sv&apikey={{apikey}}",
            "method": "GET",
            "header": [
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {},
            "description": ""
          },
          "response": []
        },
        {
          "_postman_id": "1230022-a09e6488-6d9b-d88d-a6c9-67047ae22d56",
          "name": "login",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Check status code is 200\"] = responseCode.code === 200;",
                  "if(responseCode.code != 200){",
                  "    console.log(\"Login failed\");",
                  "    postman.setNextRequest(null);",
                  "}else{",
                  "    var responseObj = JSON.parse(responseBody);",
                  "    console.log(\"Login got authorization key \"+responseObj.response.jwttoken.token);",
                  "    postman.setEnvironmentVariable(\"authorization\", responseObj.response.jwttoken.token);",
                  "}"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "console.log(\"Login using ssid: \"+data.ssid);",
                  "console.log(\"            user: \"+data.user);"
                ]
              }
            }
          ],
          "request": {
            "url": {
              "raw": "{{server}}{{path}}/login/:ssid/:username?language={{language}}&apikey={{apikey}}",
              "auth": {},
              "host": [
                "{{server}}{{path}}"
              ],
              "path": [
                "login",
                ":ssid",
                ":username"
              ],
              "query": [
                {
                  "key": "language",
                  "value": "{{language}}"
                },
                {
                  "key": "apikey",
                  "value": "{{apikey}}"
                }
              ],
              "variable": [
                {
                  "value": "{{ssid}}",
                  "id": "ssid"
                },
                {
                  "value": "{{user}}",
                  "id": "username"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"credentialCapability\":{\r\n\t\t\"credential\":{\r\n\t\t\t\"password\":\"{{password}}\"\r\n\t\t},\r\n\t\t\"clientCapability\":{\r\n\t\t\t\"clientAppVersion\":\"1.1.1.1\",\r\n\t\t\t\"clientDeviceId\":\"234243234234324234\",\r\n\t\t\t\"paymentSupport\":false,\r\n\t\t\t\"printer\":true\r\n\t\t}\r\n\t}\r\n}"
            },
            "description": "Login an user\n\nParameters:\n\nssid: Service point id. Valid characters: 0-9 Length: 6 characters \n\nusername: The user name \n\n"
          },
          "response": []
        },
        {
          "_postman_id": "1230022-89c83a01-c7ca-04da-b7fa-f6726f8459ad",
          "name": "Delete testitem",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;"
                ]
              }
            }
          ],
          "request": {
            "url": {
              "raw": "{{testDataEndpoint}}/item/:itemid",
              "auth": {},
              "host": [
                "{{testDataEndpoint}}"
              ],
              "path": [
                "item",
                ":itemid"
              ],
              "query": [],
              "variable": [
                {
                  "value": "00000000014SE",
                  "id": "itemid"
                }
              ]
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {},
            "description": ""
          },
          "response": []
        },
        {
          "_postman_id": "1230022-cde50225-b03c-21d4-696b-ad22b17b4398",
          "name": "Delete testitem2",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;"
                ]
              }
            }
          ],
          "request": {
            "url": {
              "raw": "{{testDataEndpoint}}/item/:itemid",
              "auth": {},
              "host": [
                "{{testDataEndpoint}}"
              ],
              "path": [
                "item",
                ":itemid"
              ],
              "query": [],
              "variable": [
                {
                  "value": "00000000028SE",
                  "id": "itemid"
                }
              ]
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {},
            "description": ""
          },
          "response": []
        },
        {
          "_postman_id": "1230022-28d5d703-9592-1ead-c28f-f7d2f16497ed",
          "name": "Add testitem",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Check status code is 200\"] = responseCode.code === 200;"
                ]
              }
            }
          ],
          "request": {
            "url": {
              "raw": "{{testDataEndpoint}}/item/:itemid",
              "auth": {},
              "host": [
                "{{testDataEndpoint}}"
              ],
              "path": [
                "item",
                ":itemid"
              ],
              "query": [],
              "variable": [
                {
                  "value": "00000000014SE",
                  "id": "itemid"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              },
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"testitem\":\n{\"attributes\":[ \n\t{\"key\":\"produktkod\",\"value\":\"{{productCode}}\"},\n\t{\"key\":\"mottagaradress.namn\",\"value\":\"Karl\"},\n\t{\"key\":\"mottagaradress.utdelningsadressrad1\",\"value\":\"testgatan\"},\n\t{\"key\":\"mottagaradress.postnr\",\"value\":\"10500\"},\n\t{\"key\":\"mottagaradress.postort\",\"value\":\"STOCKHOLM\"}\n\t]}\n}"
            },
            "description": ""
          },
          "response": []
        },
        {
          "_postman_id": "1230022-0a03ee05-af9d-9ee2-7095-9ed5c4c09ecb",
          "name": "Add testitem2",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Check status code is 200\"] = responseCode.code === 200;"
                ]
              }
            }
          ],
          "request": {
            "url": {
              "raw": "{{testDataEndpoint}}/item/:itemid",
              "auth": {},
              "host": [
                "{{testDataEndpoint}}"
              ],
              "path": [
                "item",
                ":itemid"
              ],
              "query": [],
              "variable": [
                {
                  "value": "00000000028SE",
                  "id": "itemid"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              },
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"testitem\":\n{\"attributes\":[ \n\t{\"key\":\"produktkod\",\"value\":\"{{productCode}}\"},\n\t{\"key\":\"mottagaradress.namn\",\"value\":\"carl\"},\n\t{\"key\":\"mottagaradress.utdelningsadressrad1\",\"value\":\"testgatan\"},\n\t{\"key\":\"mottagaradress.postnr\",\"value\":\"10500\"},\n\t{\"key\":\"mottagaradress.postort\",\"value\":\"STOCKHOLM\"}\n\t]}\n}"
            },
            "description": ""
          },
          "response": []
        },
        {
          "_postman_id": "1230022-8dcce9ff-47c3-3713-3e0a-6e890f702420",
          "name": "Search",
          "request": {
            "url": "{{server}}{{path}}/search?type=item&query=recipientname:Jörgen&language={{language}}&Content-Type=application/json;charset=UTF-8",
            "method": "GET",
            "header": [
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              },
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              }
            ],
            "body": {},
            "description": ""
          },
          "response": []
        }
      ]
    },
    {
      "_postman_id": "1230022-8e7c4055-8fe6-bfef-3494-2e26a60666f8",
      "name": "Checkout Item",
      "description": "",
      "item": [
        {
          "_postman_id": "1230022-94f8f1e6-6881-01ca-ae11-36a40152cfea",
          "name": "Health",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "console.log(\"Pabloversion:\"+postman.getResponseHeader(\"Pabloversion\"));",
                  "if(responseCode.code != 200){",
                  "    postman.setNextRequest(null);",
                  "}"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "console.log(\"Health check\");",
                  ""
                ]
              }
            }
          ],
          "request": {
            "url": "{{server}}{{path}}/health?language=sv&apikey={{apikey}}",
            "method": "GET",
            "header": [
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {},
            "description": ""
          },
          "response": []
        },
        {
          "_postman_id": "1230022-2adc899f-88d7-89b7-3371-a15cc48031b1",
          "name": "login",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Check status code is 200\"] = responseCode.code === 200;",
                  "if(responseCode.code != 200){",
                  "    console.log(\"Login failed\");",
                  "    postman.setNextRequest(null);",
                  "}else{",
                  "    var responseObj = JSON.parse(responseBody);",
                  "    console.log(\"Login got authorization key \"+responseObj.response.jwttoken.token);",
                  "    postman.setEnvironmentVariable(\"authorization\", responseObj.response.jwttoken.token);",
                  "}"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "console.log(\"Login using ssid: \"+data.ssid);",
                  "console.log(\"            user: \"+data.user);"
                ]
              }
            }
          ],
          "request": {
            "url": {
              "raw": "{{server}}{{path}}/login/:ssid/:username?language={{language}}&apikey={{apikey}}",
              "auth": {},
              "host": [
                "{{server}}{{path}}"
              ],
              "path": [
                "login",
                ":ssid",
                ":username"
              ],
              "query": [
                {
                  "key": "language",
                  "value": "{{language}}"
                },
                {
                  "key": "apikey",
                  "value": "{{apikey}}"
                }
              ],
              "variable": [
                {
                  "value": "{{ssid}}",
                  "id": "ssid"
                },
                {
                  "value": "{{user}}",
                  "id": "username"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"credentialCapability\":{\r\n\t\t\"credential\":{\r\n\t\t\t\"password\":\"{{password}}\"\r\n\t\t},\r\n\t\t\"clientCapability\":{\r\n\t\t\t\"clientAppVersion\":\"1.1.1.1\",\r\n\t\t\t\"clientDeviceId\":\"234243234234324234\",\r\n\t\t\t\"paymentSupport\":false,\r\n\t\t\t\"printer\":true\r\n\t\t}\r\n\t}\r\n}"
            },
            "description": "Login an user\n\nParameters:\n\nssid: Service point id. Valid characters: 0-9 Length: 6 characters \n\nusername: The user name \n\n"
          },
          "response": []
        },
        {
          "_postman_id": "1230022-0aa9667e-ab06-dae8-dc7c-507455185b11",
          "name": "Delete testitem",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "if(responseCode.code != 200){",
                  "    console.log(\"failed\");",
                  "    postman.setNextRequest(null);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "url": {
              "raw": "{{testDataEndpoint}}/item/:itemid",
              "auth": {},
              "host": [
                "{{testDataEndpoint}}"
              ],
              "path": [
                "item",
                ":itemid"
              ],
              "query": [],
              "variable": [
                {
                  "value": "{{itemId}}",
                  "id": "itemid"
                }
              ]
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {},
            "description": ""
          },
          "response": []
        },
        {
          "_postman_id": "1230022-ab3a5a57-56ce-c1fc-4193-33f56cacf7c1",
          "name": "items checkout1",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Check status code is 400\"] = responseCode.code === 400;",
                  "",
                  "var jsonData = JSON.parse(responseBody);",
                  "if(responseCode.code==200){",
                  "    console.log(\"Checkout item approved\");",
                  "    ",
                  "}else if(responseCode.code==400){",
                  "    console.log(\"Got response \"+responseBody);",
                  "    tests[\"Check errror \"] = jsonData.Fault.faultCode >=0;",
                  "    if(jsonData.Fault.faultCode==3){",
                  "        console.log(\"Check out not supported at this service point quit\");",
                  "        postman.setNextRequest(\"end checkout\");",
                  "    }",
                  "}",
                  "",
                  "//postman.setEnvironmentVariable(\"authorization\", response.jwttoken.token);",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//console.log(\"Server: \"+postman.getEnvironmentVariable(\"server\"));",
                  "console.log(\"ItemId: \"+data.itemId);",
                  "console.log(\"Product: \"+data.productCode);",
                  "console.log(\"Context: \"+data.context);"
                ]
              }
            }
          ],
          "request": {
            "url": {
              "raw": "{{server}}{{path}}/items/:itemid?context=checkout&language={{language}}&apikey={{apikey}}",
              "auth": {},
              "host": [
                "{{server}}{{path}}"
              ],
              "path": [
                "items",
                ":itemid"
              ],
              "query": [
                {
                  "key": "context",
                  "value": "checkout"
                },
                {
                  "key": "language",
                  "value": "{{language}}"
                },
                {
                  "key": "apikey",
                  "value": "{{apikey}}"
                }
              ],
              "variable": [
                {
                  "value": "{{itemId}}",
                  "id": "itemid"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {},
            "description": "Get information about items\n\nParameters:\n\nitemid: itemId \n\n"
          },
          "response": []
        },
        {
          "_postman_id": "1230022-bc2a79e3-55ae-c849-6ba6-c3ef0ceeae87",
          "name": "Add testitem",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "if(responseCode.code != 200){",
                  "    console.log(\"failed\");",
                  "    postman.setNextRequest(null);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "url": {
              "raw": "{{testDataEndpoint}}/item/:itemid",
              "auth": {},
              "host": [
                "{{testDataEndpoint}}"
              ],
              "path": [
                "item",
                ":itemid"
              ],
              "query": [],
              "variable": [
                {
                  "value": "{{itemId}}",
                  "id": "itemid"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              },
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"testitem\":\n{\"attributes\":[ \n  {\"key\":\"produktkod\",\"value\":\"19\"},\n  {\"key\":\"avsandaradress.namn\",\"value\":\"Grejsvig Test\"},\n  {\"key\":\"avsandaradress.utdelningsadressrad1\",\"value\":\"Terminalvägen\"},\n  {\"key\":\"avsandaradress.postnr\",\"value\":\"10500\"},\n  {\"key\":\"avsandaradress.postort\",\"value\":\"SOLNA\"} ,\n  {\"key\":\"mottagaradress.namn\",\"value\":\"test\"},\n  {\"key\":\"mottagaradress.utdelningsadressrad1\",\"value\":\"testgatan\"},\n  {\"key\":\"mottagaradress.postnr\",\"value\":\"10500\"},\n  {\"key\":\"mottagaradress.postort\",\"value\":\"STOCKHOLM\"},\n  {\"key\":\"lovatSistaLiggedatum\",\"value\":\"2017-02-24 00:00:00:000\"}\n  ]}\n}"
            },
            "description": ""
          },
          "response": []
        },
        {
          "_postman_id": "1230022-f7454c87-b5cb-a178-922a-e0ae4fddcb4e",
          "name": "items checkout",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Check status code is 400\"] = responseCode.code === 400;",
                  "",
                  "var jsonData = JSON.parse(responseBody);",
                  "if(responseCode.code==200){",
                  "    console.log(\"Arrival approved\");",
                  "}else if(responseCode.code==400){",
                  "    console.log(\"Got response \"+responseBody);",
                  "    tests[\"Check errror \"] = jsonData.Fault.faultCode >=0;",
                  "}",
                  "",
                  "//postman.setEnvironmentVariable(\"authorization\", response.jwttoken.token);",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//console.log(\"Server: \"+postman.getEnvironmentVariable(\"server\"));",
                  "console.log(\"ItemId: \"+data.itemId);",
                  "console.log(\"Product: \"+data.productCode);",
                  "console.log(\"Context: \"+data.context);"
                ]
              }
            }
          ],
          "request": {
            "url": {
              "raw": "{{server}}{{path}}/items/:itemid?context=checkout&language={{language}}&apikey={{apikey}}",
              "auth": {},
              "host": [
                "{{server}}{{path}}"
              ],
              "path": [
                "items",
                ":itemid"
              ],
              "query": [
                {
                  "key": "context",
                  "value": "checkout"
                },
                {
                  "key": "language",
                  "value": "{{language}}"
                },
                {
                  "key": "apikey",
                  "value": "{{apikey}}"
                }
              ],
              "variable": [
                {
                  "value": "{{itemId}}",
                  "id": "itemid"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {},
            "description": "Get information about items\n\nParameters:\n\nitemid: itemId \n\n"
          },
          "response": []
        },
        {
          "_postman_id": "1230022-7ae57ed8-9002-7231-827f-f0bd6699e0ff",
          "name": "events arrival",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//2016-12-13T16:25:39.611+02:00",
                  "postman.setEnvironmentVariable(\"currentTimeStmp\", new Date());"
                ]
              }
            }
          ],
          "request": {
            "url": "{{server}}{{path}}/events?language={{language}}&apikey={{apikey}}",
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"eventList\": {\r\n\t\"customersessions\":[\r\n\t{\r\n\t\t\"id\":\"1\",\r\n\t\t\"arrivals\":    [\r\n    \t{\r\n        \t\"itemId\": \"{{itemId}}\",\r\n        \t\"shelfNo\": \"A12\",\r\n        \t\"timeStamp\": \"{{currentTimeStmp}}\"\r\n    \t}\r\n\t\t]\r\n\t}]\r\n}}"
            },
            "description": "Events on items"
          },
          "response": []
        },
        {
          "_postman_id": "1230022-0a1c51e6-c0fa-49ad-e71d-8b1d3e39abdc",
          "name": "items checkout",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Check status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonData = JSON.parse(responseBody);",
                  "if(responseCode.code==200){",
                  "    console.log(\"Arrival approved\");",
                  "}else if(responseCode.code==400){",
                  "    console.log(\"Got response \"+responseBody);",
                  "    tests[\"Check errror \"] = jsonData.Fault.faultCode >=0;",
                  "}",
                  "",
                  "//postman.setEnvironmentVariable(\"authorization\", response.jwttoken.token);",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//console.log(\"Server: \"+postman.getEnvironmentVariable(\"server\"));",
                  "console.log(\"ItemId: \"+data.itemId);",
                  "console.log(\"Product: \"+data.productCode);",
                  "console.log(\"Context: \"+data.context);"
                ]
              }
            }
          ],
          "request": {
            "url": {
              "raw": "{{server}}{{path}}/items/:itemid?context=checkout&language={{language}}&apikey={{apikey}}",
              "auth": {},
              "host": [
                "{{server}}{{path}}"
              ],
              "path": [
                "items",
                ":itemid"
              ],
              "query": [
                {
                  "key": "context",
                  "value": "checkout"
                },
                {
                  "key": "language",
                  "value": "{{language}}"
                },
                {
                  "key": "apikey",
                  "value": "{{apikey}}"
                }
              ],
              "variable": [
                {
                  "value": "{{itemId}}",
                  "id": "itemid"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {},
            "description": "Get information about items\n\nParameters:\n\nitemid: itemId \n\n"
          },
          "response": []
        },
        {
          "_postman_id": "1230022-2e7fc6c9-6f1a-792e-016b-d936e6160895",
          "name": "events checkout",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "//postman.setNextRequest(\"Health end\");",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//2016-12-13T16:25:39.611+02:00",
                  "postman.setEnvironmentVariable(\"currentTimeStmp\", new Date());"
                ]
              }
            }
          ],
          "request": {
            "url": "{{server}}{{path}}/events?language={{language}}&apikey={{apikey}}",
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"eventList\": {\r\n\t\"customersessions\":[\r\n\t{\r\n\t\t\"id\":\"1\",\r\n\t\t\"checkoutItemEvents\": [\r\n    \t{\r\n    \t\t\"itemId\": \"{{itemId}}\",\r\n    \t\t\"timeStamp\": \"{{currentTimeStmp}}\",\r\n    \t\t\"checkoutReason\": \"itemlost\"\r\n    \t}\r\n\t\t]\r\n\t}]\r\n\t}\r\n}\r\n"
            },
            "description": "Events on items"
          },
          "response": []
        },
        {
          "_postman_id": "1230022-26127ca9-f6e9-ddb9-478c-29341412c9b6",
          "name": "end checkout",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "console.log(\"Pabloversion:\"+postman.getResponseHeader(\"Pabloversion\"));",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "console.log(\"Health check\");",
                  ""
                ]
              }
            }
          ],
          "request": {
            "url": "{{server}}{{path}}/health?language=sv&apikey={{apikey}}",
            "method": "GET",
            "header": [
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {},
            "description": ""
          },
          "response": []
        }
      ]
    },
    {
      "_postman_id": "1230022-b15b7df0-ccca-6e83-e840-f9932b81e9a9",
      "name": "Basic singel tests",
      "description": "Some misc independent tests. not part of a flow",
      "item": [
        {
          "_postman_id": "1230022-c4529d2b-9477-ed56-9b72-7127e2ba9f82",
          "name": "Health",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "console.log(\"Pabloversion:\"+postman.getResponseHeader(\"Pabloversion\"));",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "console.log(\"Health check\");",
                  ""
                ]
              }
            }
          ],
          "request": {
            "url": "{{server}}{{path}}/health?language=sv&apikey={{apikey}}",
            "method": "GET",
            "header": [
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {},
            "description": ""
          },
          "response": []
        },
        {
          "_postman_id": "1230022-85dc8347-22d1-2a31-486d-31193e3a380b",
          "name": "login",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Check status code is 200\"] = responseCode.code === 200;",
                  "if(responseCode.code != 200){",
                  "    console.log(\"Login failed\");",
                  "    postman.setNextRequest(null);",
                  "}else{",
                  "    var responseObj = JSON.parse(responseBody);",
                  "    console.log(\"Login got authorization key \"+responseObj.response.jwttoken.token);",
                  "    postman.setEnvironmentVariable(\"authorization\", responseObj.response.jwttoken.token);",
                  "}"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "console.log(\"Login using ssid: \"+data.ssid);",
                  "console.log(\"            user: \"+data.user);"
                ]
              }
            }
          ],
          "request": {
            "url": {
              "raw": "{{server}}{{path}}/login/:ssid/:username?language={{language}}&apikey={{apikey}}",
              "auth": {},
              "host": [
                "{{server}}{{path}}"
              ],
              "path": [
                "login",
                ":ssid",
                ":username"
              ],
              "query": [
                {
                  "key": "language",
                  "value": "{{language}}"
                },
                {
                  "key": "apikey",
                  "value": "{{apikey}}"
                }
              ],
              "variable": [
                {
                  "value": "{{ssid}}",
                  "id": "ssid"
                },
                {
                  "value": "{{user}}",
                  "id": "username"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"credentialCapability\":{\r\n\t\t\"credential\":{\r\n\t\t\t\"password\":\"{{password}}\"\r\n\t\t},\r\n\t\t\"clientCapability\":{\r\n\t\t\t\"clientAppVersion\":\"1.1.1.1\",\r\n\t\t\t\"clientDeviceId\":\"234243234234324234\",\r\n\t\t\t\"paymentSupport\":false,\r\n\t\t\t\"printer\":true\r\n\t\t}\r\n\t}\r\n}"
            },
            "description": "Login an user\n\nParameters:\n\nssid: Service point id. Valid characters: 0-9 Length: 6 characters \n\nusername: The user name \n\n"
          },
          "response": []
        },
        {
          "_postman_id": "1230022-86310bf3-f00a-78e8-084f-229c64799248",
          "name": "countrycodes",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Check status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonData = JSON.parse(responseBody);",
                  "console.log(\"Got response \"+responseBody);",
                  "if(responseCode.code==200){",
                  "    tests[\"Check no of countries\"] = jsonData.countries >=1;",
                  "    if(jsonData.countries.countrycodes){",
                  "        tests[\"Check no of countries\"] = jsonData.countries.countrycodes.length >=1;",
                  "    }",
                  "} else if(responseCode.code==400) {",
                  "    console.log(\"Got response \"+responseBody);",
                  "    tests[\"Check errror \"] = jsonData.Fault.faultCode >=0;",
                  "}",
                  ""
                ]
              }
            }
          ],
          "request": {
            "url": "{{server}}{{path}}/countrycodes?language={{language}}&apikey={{apikey}}",
            "method": "GET",
            "header": [
              {
                "key": "ETag",
                "value": "",
                "description": ""
              },
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {},
            "description": "Get country and country codes"
          },
          "response": []
        },
        {
          "_postman_id": "1230022-f3ed88d0-86e6-3386-17b7-47c5a30af9de",
          "name": "getIdentificationTypes",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Check status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonData = JSON.parse(responseBody);",
                  "console.log(\"Got response \"+responseBody);",
                  "if(responseCode.code==200){",
                  "    tests[\"Check response\"] = jsonData.identificationTypes.identificationType.length >=1;",
                  "} else if(responseCode.code==400) {",
                  "    console.log(\"Got response \"+responseBody);",
                  "    tests[\"Check errror \"] = jsonData.Fault.faultCode >=0;",
                  "}",
                  "",
                  "",
                  ""
                ]
              }
            }
          ],
          "request": {
            "url": "{{server}}{{path}}/identificationtypes?language={{language}}&apikey={{apikey}}",
            "method": "GET",
            "header": [
              {
                "key": "ETag",
                "value": "",
                "description": ""
              },
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {},
            "description": "Get identification validation rules"
          },
          "response": []
        },
        {
          "_postman_id": "1230022-970bddde-8a1a-539e-e7df-8dd3e082bb80",
          "name": "events wronglysorted",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//2016-12-13T16:25:39.611+02:00",
                  "postman.setEnvironmentVariable(\"currentTimeStmp\", new Date());"
                ]
              }
            }
          ],
          "request": {
            "url": "{{server}}{{path}}/events?language={{language}}&apikey={{apikey}}",
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"eventList\": {\r\n\t\"customersessions\":[\r\n\t{\r\n\t\t\"id\":\"1\",\t\r\n\t\t\"wronglySortedItemEvents\":    [\r\n    \t{\r\n        \t\"itemId\": \"{{itemId}}\",\r\n        \t\"timeStamp\": \"{{currentTimeStmp}}\"\r\n    \t}\r\n\t\t]\r\n\t}]\r\n}}"
            },
            "description": "Events on items"
          },
          "response": []
        },
        {
          "_postman_id": "1230022-eb1c722e-285b-7d05-2890-811117d43b81",
          "name": "events return",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//2016-12-13T16:25:39.611+02:00",
                  "postman.setEnvironmentVariable(\"currentTimeStmp\", new Date());"
                ]
              }
            }
          ],
          "request": {
            "url": "{{server}}{{path}}/events?language={{language}}&apikey={{apikey}}",
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"eventList\": {\r\n   \"returns\":    [\r\n      {\r\n         \"itemId\": \"{{itemId}}\",\r\n         \"returnReason\": \"senderdemand\",\r\n         \"missing\": false,\r\n         \"timeStamp\": \"{{currentTimeStmp}}\"\r\n      }\r\n   ]\r\n}}"
            },
            "description": "Events on items"
          },
          "response": []
        }
      ]
    },
    {
      "_postman_id": "1230022-3961c773-5038-3f45-51f7-ba364074ebd1",
      "name": "Receive item",
      "description": "",
      "item": [
        {
          "_postman_id": "1230022-928ae163-533f-de38-5f9e-f42727c3d2d3",
          "name": "Health",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "console.log(\"Pabloversion:\"+postman.getResponseHeader(\"Pabloversion\"));",
                  "postman.setEnvironmentVariable(\"Pabloversion\", postman.getResponseHeader(\"Pabloversion\"));",
                  "",
                  "if(responseCode.code != 200){",
                  "    postman.setNextRequest(null);",
                  "}"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "console.log(\"Health check\");",
                  ""
                ]
              }
            }
          ],
          "request": {
            "url": "{{server}}{{path}}/health?language=sv&apikey={{apikey}}",
            "method": "GET",
            "header": [
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {},
            "description": ""
          },
          "response": []
        },
        {
          "_postman_id": "1230022-2c95d24c-4744-7f3f-d18d-939b368accae",
          "name": "login",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Check status code is 200\"] = responseCode.code === 200;",
                  "if(responseCode.code != 200){",
                  "    console.log(\"Login failed\");",
                  "    postman.setNextRequest(null);",
                  "}else{",
                  "    var responseObj = JSON.parse(responseBody);",
                  "    console.log(\"Login got authorization key \"+responseObj.response.jwttoken.token);",
                  "    postman.setEnvironmentVariable(\"authorization\", responseObj.response.jwttoken.token);",
                  "}"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "console.log(\"Login using ssid: \"+data.ssid);",
                  "console.log(\"            user: \"+data.user);"
                ]
              }
            }
          ],
          "request": {
            "url": {
              "raw": "{{server}}{{path}}/login/:ssid/:username?language={{language}}&apikey={{apikey}}",
              "auth": {},
              "host": [
                "{{server}}{{path}}"
              ],
              "path": [
                "login",
                ":ssid",
                ":username"
              ],
              "query": [
                {
                  "key": "language",
                  "value": "{{language}}"
                },
                {
                  "key": "apikey",
                  "value": "{{apikey}}"
                }
              ],
              "variable": [
                {
                  "value": "{{ssid}}",
                  "id": "ssid"
                },
                {
                  "value": "{{user}}",
                  "id": "username"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"credentialCapability\":{\r\n\t\t\"credential\":{\r\n\t\t\t\"password\":\"{{password}}\"\r\n\t\t},\r\n\t\t\"clientCapability\":{\r\n\t\t\t\"clientAppVersion\":\"1.1.1.1\",\r\n\t\t\t\"clientDeviceId\":\"234243234234324234\",\r\n\t\t\t\"paymentSupport\":false,\r\n\t\t\t\"printer\":true\r\n\t\t}\r\n\t}\r\n}"
            },
            "description": "Login an user\n\nParameters:\n\nssid: Service point id. Valid characters: 0-9 Length: 6 characters \n\nusername: The user name \n\n"
          },
          "response": []
        },
        {
          "_postman_id": "1230022-97ef6b07-ae37-61da-fb98-6542edbdeb38",
          "name": "Delete testitem",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "if(responseCode.code != 200){",
                  "    console.log(\"failed\");",
                  "    postman.setNextRequest(null);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "url": {
              "raw": "{{testDataEndpoint}}/item/:itemid",
              "auth": {},
              "host": [
                "{{testDataEndpoint}}"
              ],
              "path": [
                "item",
                ":itemid"
              ],
              "query": [],
              "variable": [
                {
                  "value": "{{itemId}}",
                  "id": "itemid"
                }
              ]
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {},
            "description": ""
          },
          "response": []
        },
        {
          "_postman_id": "1230022-d95a19da-f02c-7bc4-0f2c-07363574ffa6",
          "name": "items Receiveitem",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Check status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonData = JSON.parse(responseBody);",
                  "if(responseCode.code==200){",
                  "    console.log(\"Arrival approved\");",
                  "}else if(responseCode.code==400){",
                  "    console.log(\"Got response \"+responseBody);",
                  "    tests[\"Check errror \"] = jsonData.Fault.faultCode >=0;",
                  "}",
                  "",
                  "//postman.setEnvironmentVariable(\"authorization\", response.jwttoken.token);",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//console.log(\"Server: \"+postman.getEnvironmentVariable(\"server\"));",
                  "console.log(\"ItemId: \"+data.itemId);",
                  "console.log(\"Product: \"+data.productCode);",
                  "console.log(\"Context: \"+data.context);"
                ]
              }
            }
          ],
          "request": {
            "url": {
              "raw": "{{server}}{{path}}/items/:itemid?context=receive&language={{language}}&apikey={{apikey}}",
              "auth": {},
              "host": [
                "{{server}}{{path}}"
              ],
              "path": [
                "items",
                ":itemid"
              ],
              "query": [
                {
                  "key": "context",
                  "value": "receive"
                },
                {
                  "key": "language",
                  "value": "{{language}}"
                },
                {
                  "key": "apikey",
                  "value": "{{apikey}}"
                }
              ],
              "variable": [
                {
                  "value": "{{itemId}}",
                  "id": "itemid"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {},
            "description": "Get information about items\n\nParameters:\n\nitemid: itemId \n\n"
          },
          "response": []
        },
        {
          "_postman_id": "1230022-13718511-ed2c-3002-7e14-0133c3a1b8f8",
          "name": "events recieveitem",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "if(responseCode.code != 200){",
                  "    console.log(\"failed\");",
                  "    postman.setNextRequest(null);",
                  "}else{",
                  "    var responseObj = JSON.parse(responseBody);",
                  "    console.log(\"Got printid \"+responseObj.eventresponse.customersessions.printid);",
                  "    postman.setEnvironmentVariable(\"printid\", responseObj.eventresponse.customersessions.printid);",
                  "}"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//2016-12-13T16:25:39.611+02:00",
                  "postman.setEnvironmentVariable(\"currentTimeStmp\", new Date());"
                ]
              }
            }
          ],
          "request": {
            "url": "{{server}}{{path}}/events?language={{language}}&apikey={{apikey}}",
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"eventList\": {\r\n\t\"customersessions\":[\r\n   \t{\r\n\t\t\"id\":\"1\",\r\n\t\t\"receivedItemEvents\":[\r\n\t     {\r\n\t         \"itemId\": \"{{itemId}}\",\r\n\t         \"timeStamp\": \"{{currentTimeStmp}}\",\r\n\t         \"emailAddresses\":          [\r\n\t         \t\"test@postnord.com\"\r\n\t         ]\r\n\t     }\r\n\t   ]  \r\n   \t}\r\n   \t]\r\n  }\r\n}\r\n\r\n"
            },
            "description": "Events on items"
          },
          "response": []
        },
        {
          "_postman_id": "1230022-088561ff-3887-0ee0-aa43-5fc7dbf00495",
          "name": "print zpl",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "console.log(\"Pabloversion:\"+postman.getResponseHeader(\"Pabloversion\"));",
                  "",
                  "if(responseCode.code != 200){",
                  "    console.log(\"Failed\");",
                  "    postman.setNextRequest(null);",
                  "}else{",
                  "    var responseObj = JSON.parse(responseBody);",
                  "    console.log(\"Data to print \"+responseObj.printresponse.data);",
                  "    //var decrypt = CryptoJS.enc.Base64.parse(responseObj.printresponse.data);",
                  "    //console.log(\"------------------------------------\");",
                  "    //console.log( decrypt.toString(CryptoJS.enc.Utf8));",
                  "    postman.setEnvironmentVariable(\"printData\", responseObj.printresponse.data);",
                  "}",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "console.log(\"Health check\");",
                  ""
                ]
              }
            }
          ],
          "request": {
            "url": {
              "raw": "{{server}}{{path}}/print/:printid/zpl?language=sv&apikey={{apikey}}",
              "auth": {},
              "host": [
                "{{server}}{{path}}"
              ],
              "path": [
                "print",
                ":printid",
                "zpl"
              ],
              "query": [
                {
                  "key": "language",
                  "value": "sv"
                },
                {
                  "key": "apikey",
                  "value": "{{apikey}}"
                }
              ],
              "variable": [
                {
                  "value": "{{printid}}",
                  "id": "printid"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              }
            ],
            "body": {},
            "description": ""
          },
          "response": []
        },
        {
          "_postman_id": "1230022-5db979ce-4977-fa08-cc52-9c13fd1d84ed",
          "name": "ZPL viewer",
          "request": {
            "url": "http://api.labelary.com/v1/printers/8dpmm/labels/4x8/0/",
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{printData}}"
            },
            "description": ""
          },
          "response": []
        },
        {
          "_postman_id": "1230022-45a85144-8b84-380e-de92-a998aeeb6d74",
          "name": "items Deliveritem",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Check status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonData = JSON.parse(responseBody);",
                  "if(responseCode.code==200){",
                  "    console.log(\"Arrival approved\");",
                  "}else if(responseCode.code==400){",
                  "    console.log(\"Got response \"+responseBody);",
                  "    tests[\"Check errror \"] = jsonData.Fault.faultCode >=0;",
                  "}",
                  "",
                  "//postman.setEnvironmentVariable(\"authorization\", response.jwttoken.token);",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//console.log(\"Server: \"+postman.getEnvironmentVariable(\"server\"));",
                  "console.log(\"ItemId: \"+data.itemId);",
                  "console.log(\"Product: \"+data.productCode);",
                  "console.log(\"Context: \"+data.context);"
                ]
              }
            }
          ],
          "request": {
            "url": {
              "raw": "{{server}}{{path}}/items/:itemid?context=delivery&language={{language}}&apikey={{apikey}}",
              "auth": {},
              "host": [
                "{{server}}{{path}}"
              ],
              "path": [
                "items",
                ":itemid"
              ],
              "query": [
                {
                  "key": "context",
                  "value": "delivery"
                },
                {
                  "key": "language",
                  "value": "{{language}}"
                },
                {
                  "key": "apikey",
                  "value": "{{apikey}}"
                }
              ],
              "variable": [
                {
                  "value": "{{itemId}}",
                  "id": "itemid"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {},
            "description": "Get information about items\n\nParameters:\n\nitemid: itemId \n\n"
          },
          "response": []
        }
      ]
    },
    {
      "_postman_id": "1230022-975fa610-9d3a-60fb-3a63-086eaf142eb4",
      "name": "GTT Production Request",
      "description": "",
      "item": [
        {
          "_postman_id": "1230022-3efa5b4a-8713-73cb-3192-d2e59a07fa71",
          "name": "login-v2",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Check status code is 200\"] = responseCode.code === 200;",
                  "if(responseCode.code != 200){",
                  "    console.log(\"Login failed\");",
                  "    postman.setNextRequest(null);",
                  "}else{",
                  "    var responseObj = JSON.parse(responseBody);",
                  "    console.log(\"Login got authorization key \"+responseObj.response.jwttoken.token);",
                  "    postman.setEnvironmentVariable(\"authorization\", responseObj.response.jwttoken.token);",
                  "}"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "console.log(\"Login using ssid: \"+data.ssid);",
                  "console.log(\"            user: \"+data.user);"
                ]
              }
            }
          ],
          "request": {
            "url": {
              "raw": "{{server}}{{path}}/login/:ssid/:username?language={{language}}&apikey={{apikey}}",
              "auth": {},
              "host": [
                "{{server}}{{path}}"
              ],
              "path": [
                "login",
                ":ssid",
                ":username"
              ],
              "query": [
                {
                  "key": "language",
                  "value": "{{language}}"
                },
                {
                  "key": "apikey",
                  "value": "{{apikey}}"
                }
              ],
              "variable": [
                {
                  "value": "{{ssid}}",
                  "id": "ssid"
                },
                {
                  "value": "{{user}}",
                  "id": "username"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"credentialCapability\":{\r\n    \"credential\":{\r\n      \"password\":\"{{password}}\"\r\n    },\r\n    \"clientCapability\":{\r\n      \"clientAppVersion\":\"1.1.1\",\r\n      \"clientDeviceId\":\"234243234234324234\",\r\n      \"paymentSupport\":false,\r\n      \"printer\":true\r\n    }\r\n  }\r\n}"
            },
            "description": "Login an user\n\nParameters:\n\nssid: Service point id. Valid characters: 0-9 Length: 6 characters \n\nusername: The user name \n\n"
          },
          "response": []
        },
        {
          "_postman_id": "1230022-0cdddcdf-0d69-248f-276d-2701d92f8e6d",
          "name": "Delete testitem {{itemId}}",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "if(responseCode.code != 200){",
                  "    console.log(\"failed\");",
                  "    postman.setNextRequest(null);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "url": {
              "raw": "{{testDataEndpoint}}/item/:itemid",
              "auth": {},
              "host": [
                "{{testDataEndpoint}}"
              ],
              "path": [
                "item",
                ":itemid"
              ],
              "query": [],
              "variable": [
                {
                  "value": "{{itemId}}",
                  "id": "itemid"
                }
              ]
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {},
            "description": ""
          },
          "response": []
        },
        {
          "_postman_id": "1230022-a6581bed-cd70-95ee-77ab-fc722335b259",
          "name": "Add testitem {{itemId}}",
          "request": {
            "url": "{{testDataEndpoint}}/item/{{itemId}}",
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              },
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"testitem\":\n{\"attributes\":[ \n  {\"key\":\"produktkod\",\"value\":\"19\"},\n  {\"key\":\"avsandaradress.namn\",\"value\":\"CiS\"},\n  {\"key\":\"avsandaradress.utdelningsadressrad1\",\"value\":\"Terminalvägen\"},\n  {\"key\":\"avsandaradress.postnr\",\"value\":\"10500\"},\n  {\"key\":\"avsandaradress.postort\",\"value\":\"SOLNA\"} ,\n  {\"key\":\"avsandaradress.landskod\",\"value\":\"SE\"},\n  {\"key\":\"mottagaradress.namn\",\"value\":\"Jens Peter Kofoed\"},\n  {\"key\":\"mottagaradress.utdelningsadressrad1\",\"value\":\"Hedegaardsvej 88\"},\n  {\"key\":\"mottagaradress.postnr\",\"value\":\"2300\"},\n  {\"key\":\"mottagaradress.postort\",\"value\":\"KÖBENHAVN S\"},\n  {\"key\":\"mottagaradress.landskod\",\"value\":\"DK\"},\n  {\"key\":\"mottagaradress.telefon\",\"value\":\"0100000000\"},\n  {\"key\":\"lovatSistaLiggedatum\",\"value\":\"2017-06-12 00:00:00:000\"}\n  ]}\n}"
            },
            "description": ""
          },
          "response": []
        },
        {
          "_postman_id": "1230022-13ae7230-c5ea-ed89-ea3b-bb79b9a2d34a",
          "name": "items arrival {{itemId}}",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Check status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonData = JSON.parse(responseBody);",
                  "if(responseCode.code==200){",
                  "    console.log(\"Arrival approved\");",
                  "}else if(responseCode.code==400){",
                  "    console.log(\"Got response \"+responseBody);",
                  "    tests[\"Check errror \"] = jsonData.Fault.faultCode >=0;",
                  "}",
                  "",
                  "//postman.setEnvironmentVariable(\"authorization\", response.jwttoken.token);",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//console.log(\"Server: \"+postman.getEnvironmentVariable(\"server\"));",
                  "console.log(\"ItemId: \"+data.itemId);",
                  "console.log(\"Product: \"+data.productCode);",
                  "console.log(\"Context: \"+data.context);"
                ]
              }
            }
          ],
          "request": {
            "url": {
              "raw": "{{server}}{{path}}/items/:itemid?context=arrival&language={{language}}&apikey={{apikey}}",
              "auth": {},
              "host": [
                "{{server}}{{path}}"
              ],
              "path": [
                "items",
                ":itemid"
              ],
              "query": [
                {
                  "key": "context",
                  "value": "arrival"
                },
                {
                  "key": "language",
                  "value": "{{language}}"
                },
                {
                  "key": "apikey",
                  "value": "{{apikey}}"
                }
              ],
              "variable": [
                {
                  "value": "{{itemId}}",
                  "id": "itemid"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {},
            "description": "Get information about items\n\nParameters:\n\nitemid: itemId \n\n"
          },
          "response": []
        },
        {
          "_postman_id": "1230022-fc0d18e6-50fd-a83f-7af8-7c8dd071887b",
          "name": "events arrival {{itemId}}",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//2016-12-13T16:25:39.611+02:00",
                  "postman.setEnvironmentVariable(\"currentTimeStmp\", new Date());"
                ]
              }
            }
          ],
          "request": {
            "url": "{{server}}{{path}}/events?language={{language}}&apikey={{apikey}}",
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"eventList\": {\r\n\"customersessions\":[\r\n  {\r\n    \"id\":\"1\",  \r\n    \"arrivals\":    [\r\n          {\r\n             \"itemId\": \"{{itemId}}\",\r\n             \"shelfNo\": \"A12\",\r\n             \"timeStamp\": \"{{currentTimeStmp}}\"\r\n          }\r\n      \r\n      ]\r\n  }]\r\n}\r\n}"
            },
            "description": "Events on items"
          },
          "response": []
        },
        {
          "_postman_id": "1230022-5a128ab4-f89c-ed57-5487-bd775881a7c9",
          "name": "items delivery {{itemId}}",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Check status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonData = JSON.parse(responseBody);",
                  "if(responseCode.code==200){",
                  "    console.log(\"Arrival approved\");",
                  "}else if(responseCode.code==400){",
                  "    console.log(\"Got response \"+responseBody);",
                  "    tests[\"Check errror \"] = jsonData.Fault.faultCode >=0;",
                  "}",
                  "",
                  "//postman.setEnvironmentVariable(\"authorization\", response.jwttoken.token);",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//console.log(\"Server: \"+postman.getEnvironmentVariable(\"server\"));",
                  "console.log(\"ItemId: \"+data.itemId);",
                  "console.log(\"Product: \"+data.productCode);",
                  "console.log(\"Context: \"+data.context);"
                ]
              }
            }
          ],
          "request": {
            "url": {
              "raw": "{{server}}{{path}}/items/:itemid?context=delivery&language={{language}}&apikey={{apikey}}",
              "auth": {},
              "host": [
                "{{server}}{{path}}"
              ],
              "path": [
                "items",
                ":itemid"
              ],
              "query": [
                {
                  "key": "context",
                  "value": "delivery"
                },
                {
                  "key": "language",
                  "value": "{{language}}"
                },
                {
                  "key": "apikey",
                  "value": "{{apikey}}"
                }
              ],
              "variable": [
                {
                  "value": "{{itemId}}",
                  "id": "itemid"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {},
            "description": "Get information about items\n\nParameters:\n\nitemid: itemId \n\n"
          },
          "response": []
        },
        {
          "_postman_id": "1230022-e957ce2e-a688-beed-0d0e-39e0c688e582",
          "name": "events delivery Sign On Glass {{itemId}}",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//2016-12-13T16:25:39.611+02:00",
                  "postman.setEnvironmentVariable(\"currentTimeStmp\", new Date());"
                ]
              }
            }
          ],
          "request": {
            "url": "{{server}}{{path}}/events?language={{language}}&apikey={{apikey}}",
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"eventList\": {\r\n  \"customersessions\":[\r\n  {\r\n    \"id\":\"1\",\r\n    \"deliveries\":    {\r\n       \"deliveries\": [\r\n          {\r\n              \"itemId\": \"{{itemId}}\",\r\n              \"timeStamp\": \"{{currentTimeStmp}}\",\r\n              \"additionalRequestResponse\": {\r\n                 \"id\": 1,\r\n                 \"response\": \"true\"\r\n              }\r\n          }\r\n      ],\r\n      \"identifications\": [\r\n      ],\r\n      \"signonglass\":{\r\n          \"signature\":\"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\",\r\n          \"recipientFirstName\":\"Jörgen\",\r\n          \"recipientSurName\":\"Testsson\",\r\n          \"visible\":true\r\n        }\r\n   }\r\n}]\r\n}\r\n}\r\n"
            },
            "description": "Events on items"
          },
          "response": []
        },
        {
          "_postman_id": "1230022-f2289d2d-9dd1-de43-0f52-99eaef5e10a7",
          "name": "events wronglysorted {{itemId}}",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//2016-12-13T16:25:39.611+02:00",
                  "postman.setEnvironmentVariable(\"currentTimeStmp\", new Date());"
                ]
              }
            }
          ],
          "request": {
            "url": "{{server}}{{path}}/events?language={{language}}&apikey={{apikey}}",
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"eventList\": {\r\n  \"customersessions\":[\r\n  {\r\n    \"id\":\"1\",  \r\n    \"wronglySortedItemEvents\":    [\r\n      {\r\n          \"itemId\": \"{{itemId}}\",\r\n          \"timeStamp\": \"{{currentTimeStmp}}\"\r\n      }\r\n    ]\r\n  }]\r\n}}"
            },
            "description": "Events on items"
          },
          "response": []
        },
        {
          "_postman_id": "1230022-576bfc3e-5016-e008-24eb-e8fe28740fc0",
          "name": "events return {{itemId}} Reason: senderdemand",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//2016-12-13T16:25:39.611+02:00",
                  "postman.setEnvironmentVariable(\"currentTimeStmp\", new Date());"
                ]
              }
            }
          ],
          "request": {
            "url": "{{server}}{{path}}/events?language={{language}}&apikey={{apikey}}",
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"eventList\": {\r\n  \"customersessions\":[\r\n  {\r\n    \"id\":\"1\",\r\n    \"returns\":    [\r\n        {\r\n          \"itemId\": \"{{itemId}}\",\r\n          \"returnReason\": \"senderdemand\",\r\n          \"missing\": false,\r\n          \"productCode\":\"19\",\r\n          \"timeStamp\": \"{{currentTimeStmp}}\"\r\n      }\r\n    ]\r\n  }]\r\n  }\r\n}"
            },
            "description": "Events on items"
          },
          "response": []
        },
        {
          "_postman_id": "1230022-a05f07f7-467e-7891-aeae-29701b0f1b09",
          "name": "events return {{itemId}} Reason: damaged",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//2016-12-13T16:25:39.611+02:00",
                  "postman.setEnvironmentVariable(\"currentTimeStmp\", new Date());"
                ]
              }
            }
          ],
          "request": {
            "url": "{{server}}{{path}}/events?language={{language}}&apikey={{apikey}}",
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"eventList\": {\r\n  \"customersessions\":[\r\n  {\r\n    \"id\":\"1\",\r\n    \"returns\":    [\r\n        {\r\n          \"itemId\": \"{{itemId}}\",\r\n          \"returnReason\": \"damaged\",\r\n          \"missing\": false,\r\n          \"productCode\":\"19\",\r\n          \"timeStamp\": \"{{currentTimeStmp}}\"\r\n      }\r\n    ]\r\n  }]\r\n  }\r\n}"
            },
            "description": "Events on items"
          },
          "response": []
        },
        {
          "_postman_id": "1230022-f3e11df2-9acf-b0ed-f4b6-0667144a95de",
          "name": "events return {{itemId}} Reason: receivermoved",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//2016-12-13T16:25:39.611+02:00",
                  "postman.setEnvironmentVariable(\"currentTimeStmp\", new Date());"
                ]
              }
            }
          ],
          "request": {
            "url": "{{server}}{{path}}/events?language={{language}}&apikey={{apikey}}",
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"eventList\": {\r\n  \"customersessions\":[\r\n  {\r\n    \"id\":\"1\",\r\n    \"returns\":    [\r\n        {\r\n          \"itemId\": \"{{itemId}}\",\r\n          \"returnReason\": \"receivermoved\",\r\n          \"missing\": false,\r\n          \"productCode\":\"19\",\r\n          \"timeStamp\": \"{{currentTimeStmp}}\"\r\n      }\r\n    ]\r\n  }]\r\n  }\r\n}"
            },
            "description": "Events on items"
          },
          "response": []
        },
        {
          "_postman_id": "1230022-0207c8ad-f66c-c043-b261-11ef0174e6c0",
          "name": "items",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Check status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonData = JSON.parse(responseBody);",
                  "if(responseCode.code==200){",
                  "    console.log(\"Arrival approved\");",
                  "}else if(responseCode.code==400){",
                  "    console.log(\"Got response \"+responseBody);",
                  "    tests[\"Check errror \"] = jsonData.Fault.faultCode >=0;",
                  "}",
                  "",
                  "//postman.setEnvironmentVariable(\"authorization\", response.jwttoken.token);",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//console.log(\"Server: \"+postman.getEnvironmentVariable(\"server\"));",
                  "console.log(\"ItemId: \"+data.itemId);",
                  "console.log(\"Product: \"+data.productCode);",
                  "console.log(\"Context: \"+data.context);"
                ]
              }
            }
          ],
          "request": {
            "url": {
              "raw": "{{server}}{{path}}/items/:itemid?language={{language}}&apikey={{apikey}}",
              "auth": {},
              "host": [
                "{{server}}{{path}}"
              ],
              "path": [
                "items",
                ":itemid"
              ],
              "query": [
                {
                  "key": "language",
                  "value": "{{language}}"
                },
                {
                  "key": "apikey",
                  "value": "{{apikey}}"
                }
              ],
              "variable": [
                {
                  "value": "{{itemId}}",
                  "id": "itemid"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {},
            "description": "Get information about items\n\nParameters:\n\nitemid: itemId \n\n"
          },
          "response": []
        },
        {
          "_postman_id": "1230022-80ad3e7a-2fbb-b823-75ab-a8ded96f0f59",
          "name": "CEM/NTT",
          "request": {
            "url": "https://api2.postnord.com/rest/shipment/v1/trackandtrace/findByIdentifier.json?id=00373500454553386959&locale=en&apikey=91f146137449a4068b3523a80b13609c",
            "method": "GET",
            "header": [],
            "body": {},
            "description": ""
          },
          "response": []
        },
        {
          "_postman_id": "1230022-4ad9a194-3393-a56d-9c8d-cfbd84d27e41",
          "name": "login-V1",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Check status code is 200\"] = responseCode.code === 200;",
                  "if(responseCode.code != 200){",
                  "    console.log(\"Login failed\");",
                  "    postman.setNextRequest(null);",
                  "} else {",
                  "    var responseObj = JSON.parse(responseBody);",
                  "    console.log(\"Login got authorization key \"+responseObj.jwttoken.token);",
                  "    postman.setEnvironmentVariable(\"authorization\", responseObj.jwttoken.token);",
                  "}"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "console.log(\"Login using ssid: \"+data.ssid);",
                  "console.log(\"            user: \"+data.user);"
                ]
              }
            }
          ],
          "request": {
            "url": {
              "raw": "{{server}}/retailapi/wsservices/rest/retail/v1/login/:ssid/:username?language={{language}}&apikey={{apikey}}",
              "auth": {},
              "host": [
                "{{server}}"
              ],
              "path": [
                "retailapi",
                "wsservices",
                "rest",
                "retail",
                "v1",
                "login",
                ":ssid",
                ":username"
              ],
              "query": [
                {
                  "key": "language",
                  "value": "{{language}}"
                },
                {
                  "key": "apikey",
                  "value": "{{apikey}}"
                }
              ],
              "variable": [
                {
                  "value": "030819",
                  "id": "ssid"
                },
                {
                  "value": "admin",
                  "id": "username"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              },
              {
                "key": "Device-ID",
                "value": "{{deviceid}}",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"credential\":{\n    \"password\":\"admin\"\n}\n}"
            },
            "description": "Login an user\n\nParameters:\n\nssid: Service point id. Valid characters: 0-9 Length: 6 characters \n\nusername: The user name \n\n"
          },
          "response": []
        }
      ]
    }
  ]
}